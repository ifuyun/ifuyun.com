<div class="wallpaper">
  <div class="switcher">
    <div>
      <div class="lang" [class.active]="lang === 'cn'">
        <a routerLink="./" [queryParams]="getQueryParams('cn')">中文</a>
      </div>
      <div class="lang" [class.active]="lang === 'en'">
        <a routerLink="./" [queryParams]="getQueryParams('en')">English</a>
      </div>
    </div>
  </div>
  <div class="list">
    <div class="wallpaper-item" *ngFor="let wallpaper of wallpapers">
      <div class="photo">
        <img [src]="wallpaper.fullUrl" [alt]="lang === 'cn' ? wallpaper.copyright : wallpaper.copyrightEn"/>
        <a class="link" [routerLink]="[wallpaper.wallpaperId]"
           [title]="lang === 'cn' ? wallpaper.copyright : wallpaper.copyrightEn"></a>
        <div class="content">
          <div class="info">
            <h2>{{lang === 'cn' ? wallpaper.copyright : wallpaper.copyrightEn}}</h2>
            <div class="meta">
              <div><i class='icon icon-calendar'></i><span>{{wallpaper.date}}</span></div>
              <div><span>{{wallpaper.copyrightAuthor}}</span></div>
            </div>
          </div>
        </div>
        <div class="actions">
          <div class="action-item"
               [class.disabled]="wallpaper.liked || voteLoadingMap[wallpaper.wallpaperId]"
               (click)="voteWallpaper(wallpaper)"
               title="喜欢">
            <i class='icon'
               [class.icon-heart]="!wallpaper.liked"
               [class.icon-heart-fill]="wallpaper.liked"
               [class.icon-loading]="voteLoadingMap[wallpaper.wallpaperId]"></i><span>{{wallpaper.likes}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="paginator-box" *ngIf="total > 0">
    <app-page-bar [isPath]="false" [paginator]="paginatorData" [url]="pageUrl" [param]="pageUrlParam"></app-page-bar>
  </div>
</div>
