<ng-container *ngIf="!isMobile">
  <header class="header header-desktop" [ngClass]="{'header-firefox': isFirefox}">
    <div class="header-bg"></div>
    <nav class="nav">
      <div class="nav-wrap">
        <a class="logo" [routerLink]="['/']" title="{{options['site_name']}}">
          <img src="/assets/images/logo.png" alt="{{options['site_name']}}"/>
        </a>
        <ul class="nav-list">
          <li [ngClass]="{'active': activePage === 'index'}">
            <a class="nav-link" title="{{options['site_name']}}首页" [routerLink]="['/']">首页</a>
          </li>
          <li *ngFor="let taxonomy of taxonomies" [ngClass]="{'active': activePage === taxonomy.taxonomySlug}">
            <a class="nav-link" [routerLink]="['/category/'+taxonomy.taxonomySlug]"
               title="{{taxonomy.taxonomyDescription}}">
              <span>{{taxonomy.taxonomyName}}</span><i class="nav-arrow" *ngIf="!taxonomy.isLeaf"></i>
            </a>
            <div class="sub-nav-group" *ngIf="!taxonomy.isLeaf">
              <div class="sub-nav-list">
                <ul>
                  <li *ngFor="let subTaxonomy of taxonomy.children">
                    <a class="sub-nav-link" [routerLink]="['/category/'+subTaxonomy.taxonomySlug]"
                       title="{{subTaxonomy.taxonomyDescription}}">{{subTaxonomy.taxonomyName}}</a>
                  </li>
                </ul>
              </div>
            </div>
          </li>
          <li [ngClass]="{'active': activePage === 'wallpaper'}">
            <a class="nav-link" [routerLink]="['/wallpapers']" title="高清壁纸">壁纸</a>
          </li>
        </ul>
      </div>
      <ul class="link-list">
        <li>
          <a class="nav-link" href="https://github.com/ifuyun" title="Follow me on GitHub" target="_blank">
            <i class='icon icon-github'></i><span>GitHub</span>
          </a>
        </li>
        <li>
          <a class="nav-link" routerLink="/user/login" title="登录" target="_blank" *ngIf="!isLoggedIn">
            <i class='icon icon-login'></i><span>登录</span>
          </a>
          <ng-container *ngIf="isLoggedIn">
            <a class="nav-link" href="javascript:">
              <i class='icon icon-user'></i><span>{{user.userNiceName}}</span><i class="nav-arrow"></i>
            </a>
            <div class="sub-nav-group">
              <div class="sub-nav-list">
                <ul>
                  <li>
                    <a class="sub-nav-link" [href]="options['site_url'] + '/admin'" target="_blank">
                      <i class='icon icon-dashboard'></i><span>个人中心</span>
                    </a>
                  </li>
                  <li>
                    <a class="sub-nav-link" href="javascript:" (click)="logout()">
                      <i class='icon icon-logout'></i><span>退出登录</span>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </ng-container>
        </li>
      </ul>
    </nav>
  </header>
</ng-container>
<ng-container *ngIf="isMobile">
  <header class="header">
    <div class="header-mobile">
      <ng-container *ngIf="!showSearch">
        <i class="icon icon-menu" (click)="toggleSiderOpen()"></i>
        <a class="logo" [routerLink]="['/']" title="{{options['site_name']}}">
          <img src="/assets/images/logo.png" alt="{{options['site_name']}}"/>
        </a>
        <i class="icon icon-search" (click)="toggleSearchStatus()"></i>
      </ng-container>
      <ng-container *ngIf="showSearch">
        <form method="get" action="/" (submit)="search()">
          <input type="text" class="header-input" [(ngModel)]="keyword" [autofocus]="focusSearch"
                 name="keyword" autocomplete="off" placeholder="探索新世界……"/>
          <input type="submit" class="header-button" value="搜索"/>
        </form>
        <div class="mask mask-search" (click)="toggleSearchStatus()"></div>
      </ng-container>
    </div>
  </header>
</ng-container>
